let pokemonRepository=function(){let e=[];function t(){return e}function n(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("Invalid Pokemon object")}function o(){let e=document.createElement("p");e.innerText="loading...",e.classList.add("loading-message"),document.body.appendChild(e)}function i(){let e=document.querySelector(".loading-message");e&&e.remove()}function l(e){return o(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){i(),e.imageUrl=t.sprites.front_default,e.height=t.height}).catch(function(e){i(),console.error(e)})}return{getAll:t,add:n,addListItem:function e(t){let n=document.querySelector(".pokemon-list"),o=document.createElement("li");o.classList.add("list-group-item");let i=document.createElement("button");i.innerText=t.name,i.classList.add("btn","btn-primary","pokemon-button"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#pokemonModal"),o.appendChild(i),n.appendChild(o),i.addEventListener("click",function(){(function e(t){l(t).then(function(){var e;let n,o,i,l,a,r;e=t,n=document.getElementById("pokemonModal"),o=document.querySelector("#exampleModalLabel"),i=document.querySelector(".modal-body"),l=document.querySelector("#pokemonImage"),a=document.querySelector("#pokemonHeight"),o.innerText=e.name,l.src=e.imageUrl,a.innerText=`height: ${e.height}`,i.innerHTML="",i.appendChild(l),i.appendChild(a),"#pokemonModal".modal("show"),r=document.getElementsByClassName("close")[0],document.getElementById("pokemonName").innerText=e.name,document.getElementById("pokemonImage").src=e.imageUrl,document.getElementById("pokemonHeight").innerText=`Height: ${e.height}`,n.style.display="block",r.onclick=function(){n.style.display="none"},window.onclick=function(e){e.target==n&&(n.style.display="none")},document.onkeydown=function(e){"Escape"===e.key&&(n.style.display="none")}})})(t)})},loadList:function e(){return o(),fetch("https://pokeapi.co/api/v2/pokemon/").then(function(e){return e.json()}).then(function(e){i(),e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){i(),console.error(e)})},loadDetails:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});